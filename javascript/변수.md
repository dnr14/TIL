## ❓ 변수란 무엇인가?

변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다.

```jsx
const result = 10 + 20; // 30 값이있는 메모리 주소를 가르킨다.
// result는 변수명 안에 들어있는 값은 변수 값이라 칭한다.
console.log(result); // 값의 위치를 가리키는 상징적인 이름이다.
```

<aside>
📌 변수에 값을 넣는 행위를 `할당`이라고 하고 저장된 값을 읽는 행위를 `참조`라고 한다.

</aside>

## 식별자

변수의 이름은 `식별자`라고 부른다. 식별자는 어떤 값을 구별해서 식별 할 수 있는 `고유한 이름`을 말한다.

⭐ 식별자는 값이 아니라 `메모리 주소`를 기억하고있다.

## 변수 선언

변수 선언은 값을 저장하기 위해 `메모리 공간`을 확보하고 변수이름과 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비하는 것이다.

```jsx
// 변수를 선언 할때 필요 키워드들
var,let,const
var score // 변수 선언 메모리 공간을 확보하고 변수명과 메모리 주소를 연결
```

## ⭐ var, const, let 동작 원리

1. 자바스크립트는 선언 후 명시적으로 값을 할당 하지 않으면 자바스크립트 엔진이 암묵적으로 `undefined`를 할당 한다.
2. 자바스크립트 엔진은 변수 선언을 2단계에 거쳐 수행한다.

   1. 선언 단계 : 이름을 등록해서 `자바스크립트 엔진`에 변수의 존재를 알린다.
   2. 초기화 단계 : 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undefined`를 할당해 초기화한다.

   <aside>
   📌 하드웨어의 메모리는 모든 어플리케이션이 공유하니 쓰레기 값이 들어있을 수 있으니 undefined로 초기화하는 것이다.

   </aside>

3. 개발자가 할당을 하지않아도 `자바스크립트 엔진`이 암묵적으로 초기화를 해준다. 이때 자바스크립트는 개발자가 어떤 값을 원하는지 모르니 `undefined`를 넣어주는 것이다.
4. var는 사용한 변수 선언은 선언 단계와 초기화 단계를 동시에 진행된다.
5. let, const는 런타임 이전에 선언 단계까지 한다. 초기화 단계는 런타임 시점에 한다.

   <aside>
   📌 **TDZ**
   let, const 키워드는 선언과 초기화 단계가 구별 되어있다. 선언은 했지만 초기화가 안되어서 let, const 키워드로 선언한 식별자를 참조 하지 못한다. 이런 상태를 TDZ라고 한다.

   console.log(a);
   let a=1;
   ReferenceError: Cannot access 'a' before initialization

   </aside>

## 변수 선언의 실행 시점과 변수 호이스팅

```jsx
console.log(score); // undefined
var score;

var, let, const, function, function*, class
// 키워드를 이용해 선언한 모든 식별자는 호이스팅이된다.
```

- 소스코드 실행 단계`(소스코드 실행 단계 !== 런타임)`에서 자바스크립트 엔진은 `모든 선언문(변수,함수)`을 소스코드에서 찾아내 먼저 실행한다.
- 변수 선언은 `런타임 시점`에 발생하지않고 이전 단계에서 발생된다. 그래서 참조에러가 발생 하지 않는다.
- 변수 선언문이 코드의 선두로 끌어 올려지는 특징을 `호이스팅`이라한다.

## 값의 할당

```jsx
var a = 1;
// 자바스크립트 엔진
var a = undefined;
a = 1;
// 메모리에는 undefined와 1을 저장한다.
// undefined 메모리 주소와 1의 주소는 다르다.

// 면접 전에 아래 코드가 어떤 결과가 나타나는지 생각해보자.
console.log(score);

score = 90;
var score;

console.log(score);
```

- 선언과 할당을 하나의 문으로 작성하여도 자바스크립트 엔진 각각 나뉘어 해석한다.
- 변수 선언은 `런타임 이전`에 먼저 실행되지만 명시적 할당은 `런타임 시점`에 실행된다.
- 이전 값 `undefined`가 저장된 메모리 공간을 지우고 그 메모리 공간에 할당 값 1을 새롭게 저장하는 것이 아니라 `새로운 메모리 공간`을 확보하고 그곳에 할당 값 1을 저장한다.

## 값의 할당

```jsx
var score;
score = 90;
score = 80;
let a = 100;
a = 200;
// var, let는 재할당이 가능한 키워드이다.
```

- 재할당을 하게되면 `이전에 메모리 공간에 값`을 저장하는 것이 아니라 새로운 메모리 공간을 확보 후 `새로운 메모리 주소`에 값을 저장한다.
- 변수 score 할당 순서를 보면 `undefined -> 90 -> 80` 순이다. `모두 다른 메모리 주소`를 가진다.
- 더 이상 참조 하지않는 메모리 주소는 `가비지 콜렉터`가 메모리 해제를 한다. 메모리 해제 시간은 알 수가 없다.

## **식별자 네이밍 규칙**

```jsx
// bad
var first-name;
var 1st;
var this;

// 자바스크립트는 대소문자를 구별한다.
var firstname;
var firstName;
var FIRSTNAME;

// 네이밍 컨벤션
const firstName // 카멜케이스
const first_name // 스네이크 케이스
const FirstName // 파스칼 케이스
const strFirstName // 헝가리언 케이스
```

- 식별자는 특수문자를 제외한 `문자,숫자,언더스코어(_), 달러 기호($)`를 포함할 수 있다.
- 식별자는 예약어를 사용 할 수 없다.
